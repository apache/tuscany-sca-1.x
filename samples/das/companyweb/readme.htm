<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="readme_files/filelist.xml">
<title>Tuscany RDB DAS Sample</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="City"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="State"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>IBM_USER</o:Author>
  <o:LastAuthor>IBM_USER</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>473</o:TotalTime>
  <o:Created>2006-05-17T18:16:00Z</o:Created>
  <o:LastSaved>2006-05-17T18:16:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>1125</o:Words>
  <o:Characters>6417</o:Characters>
  <o:Company>IBM</o:Company>
  <o:Lines>53</o:Lines>
  <o:Paragraphs>15</o:Paragraphs>
  <o:CharactersWithSpaces>7527</o:CharactersWithSpaces>
  <o:Version>10.6735</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;
	mso-font-alt:Arial;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Arial;
	mso-font-kerning:16.0pt;}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{mso-style-noshow:yes;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.MsoFootnoteReference
	{mso-style-noshow:yes;
	vertical-align:super;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
code
	{font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
span.codefrag
	{mso-style-name:codefrag;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:280770398;
	mso-list-type:hybrid;
	mso-list-template-ids:-1591061486 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l1
	{mso-list-id:400835612;
	mso-list-type:hybrid;
	mso-list-template-ids:1528458504 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l1:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:"Courier New";}
@list l2
	{mso-list-id:646667692;
	mso-list-type:hybrid;
	mso-list-template-ids:-728441462 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l3
	{mso-list-id:975526902;
	mso-list-type:hybrid;
	mso-list-template-ids:1435802096 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l3:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4
	{mso-list-id:1071007661;
	mso-list-type:simple;
	mso-list-template-ids:-338687628;}
@list l4:level1
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	mso-level-legacy:yes;
	mso-level-legacy-indent:0in;
	mso-level-legacy-space:0in;
	margin-left:0in;
	text-indent:0in;
	font-family:Helv;
	mso-ansi-font-weight:normal;}
@list l5
	{mso-list-id:1305811547;
	mso-list-type:hybrid;
	mso-list-template-ids:42887628 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l5:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:1.5in;
	mso-level-number-position:right;
	text-indent:-9.0pt;}
@list l6
	{mso-list-id:1727725721;
	mso-list-type:hybrid;
	mso-list-template-ids:1480507190 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l6:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l7
	{mso-list-id:1766462262;
	mso-list-type:hybrid;
	mso-list-template-ids:2029450580 67698689 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l7:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l7:level2
	{mso-level-number-format:alpha-lower;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l8
	{mso-list-id:1923829381;
	mso-list-template-ids:559690966;}
@list l8:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l8:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l9
	{mso-list-id:2004123601;
	mso-list-type:hybrid;
	mso-list-template-ids:2035459332 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l9:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l10
	{mso-list-id:2114665119;
	mso-list-type:hybrid;
	mso-list-template-ids:1704226536 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l10:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal><span class=GramE><span style='font-size:9.0pt'>Copyright<span
style='color:black'> </span>(c)<span style='color:black'> </span>2005<span
style='color:black'> </span>The<span style='color:black'> </span>Apache<span
style='color:black'> </span>Software<span style='color:black'> </span>Foundation<span
style='color:black'> </span>or<span style='color:black'> </span>its<span
style='color:black'> </span>licensors,<span style='color:black'> </span>as<span
style='color:black'> </span>applicable.</span></span><span style='font-size:
9.0pt'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt'>Licensed<span
style='color:black'> </span>under<span style='color:black'> </span>the<span
style='color:black'> </span>Apache<span style='color:black'> </span>License,<span
style='color:black'> </span>Version<span style='color:black'> </span>2.0<span
style='color:black'> </span>(the<span style='color:black'> </span>&quot;License&quot;);
you<span style='color:black'> </span>may<span style='color:black'> </span>not<span
style='color:black'> </span>use<span style='color:black'> </span>this<span
style='color:black'> </span>file<span style='color:black'> </span>except<span
style='color:black'> </span>in<span style='color:black'> </span>compliance<span
style='color:black'> </span>with<span style='color:black'> </span>the<span
style='color:black'> </span>License. You<span style='color:black'> </span>may<span
style='color:black'> </span>obtain<span style='color:black'> </span>a<span
style='color:black'> </span>copy<span style='color:black'> </span>of<span
style='color:black'> </span>the<span style='color:black'> </span>License<span
style='color:black'> </span>at<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt;color:black'><span
style='mso-spacerun:yes'>   </span><span style='mso-spacerun:yes'>  </span></span><span
style='font-size:9.0pt'>http://www.apache.org/licenses/LICENSE-2.0<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt'>Unless<span style='color:black'>
</span>required<span style='color:black'> </span>by<span style='color:black'> </span>applicable<span
style='color:black'> </span>law<span style='color:black'> </span>or<span
style='color:black'> </span>agreed<span style='color:black'> </span>to<span
style='color:black'> </span>in<span style='color:black'> </span>writing,<span
style='color:black'> </span>software distributed<span style='color:black'> </span>under<span
style='color:black'> </span>the<span style='color:black'> </span>License<span
style='color:black'> </span>is<span style='color:black'> </span>distributed<span
style='color:black'> </span>on<span style='color:black'> </span>an<span
style='color:black'> </span>&quot;AS<span style='color:black'> </span>IS&quot;<span
style='color:black'> </span>BASIS, WITHOUT<span style='color:black'> </span>WARRANTIES<span
style='color:black'> </span>OR<span style='color:black'> </span>CONDITIONS<span
style='color:black'> </span>OF<span style='color:black'> </span>ANY<span
style='color:black'> </span>KIND,<span style='color:black'> </span>either<span
style='color:black'> </span>express<span style='color:black'> </span>or<span
style='color:black'> </span>implied. See<span style='color:black'> </span>the<span
style='color:black'> </span>License<span style='color:black'> </span>for<span
style='color:black'> </span>the<span style='color:black'> </span>specific<span
style='color:black'> </span>language<span style='color:black'> </span>governing<span
style='color:black'> </span>permissions<span style='color:black'> </span>and
limitations<span style='color:black'> </span>under<span style='color:black'> </span>the<span
style='color:black'> </span>License.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:9.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=right style='text-align:right'><span style='font-size:
9.0pt'>Kevin Williams<o:p></o:p></span></p>

<p class=MsoNormal align=right style='text-align:right'><span style='font-size:
9.0pt'>V-0.4<o:p></o:p></span></p>

<h1><st1:State><st1:place>Tuscany</st1:place></st1:State> RDB DAS Sample (<span
class=SpellE>companyweb</span>)</h1>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>This stand-alone sample demonstrates the SDO RDB Data Access
Service in the context of a simple web application.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The application starts with a canned database of Companies
and their related Departments.<span style='mso-spacerun:yes'>  </span>Through
the web page interface, a user can:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='mso-list:l3 level1 lfo1;tab-stops:list .5in'>Display
     all Companies in the database</li>
 <li class=MsoNormal style='mso-list:l3 level1 lfo1;tab-stops:list .5in'>Display
     all Companies and related Departments</li>
 <li class=MsoNormal style='mso-list:l3 level1 lfo1;tab-stops:list .5in'>Add a
     new Department to a Company</li>
 <li class=MsoNormal style='mso-list:l3 level1 lfo1;tab-stops:list .5in'>Delete
     all Departments from a Company</li>
 <li class=MsoNormal style='mso-list:l3 level1 lfo1;tab-stops:list .5in'>Change
     the names of Departments in a Company</li>
</ol>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>So, this simple application covers all CRUD operations as
well as the some relationship manipulation (adding a Department associates that
Department with the Company).<span style='mso-spacerun:yes'>  </span>The sample
runs on Tomcat 5.5 and employs a <st1:City><st1:place>Derby</st1:place></st1:City>
database accessed via a DataSource.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>This sample application is deployed (along with the canned
test database) to an instance of Tomcat as part of our automated sample
testing.<span style='mso-spacerun:yes'>  </span>This means you can run the
java/testing/tomcat build (see java/testing/tomcat/<span class=GramE>readme.htm
)</span><span style='mso-spacerun:yes'>  </span>and then access the application
by pointing your browser to http://localhost:8080/sample-companyweb/.<span
style='mso-spacerun:yes'>  </span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>This sample is also pre-deployed in a Tomcat instance as
part of the <st1:State><st1:place>Tuscany</st1:place></st1:State> binary
distribution.<span style='mso-spacerun:yes'>  </span>When starting with this,
you just:</p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l8 level1 lfo11;tab-stops:list .5in'>Unzip the distribution
     archive</li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l8 level1 lfo11;tab-stops:list .5in'>Change the directory to
     &nbsp;<b>apache-tomcat-5.5.17\bin</b><o:p></o:p></li>
 <ul type=circle>
  <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:
      auto;mso-list:l8 level2 lfo11;tab-stops:list 1.0in'><span
      style='mso-bidi-font-weight:bold'>If you start Tomcat from some other
      location then it will not find the canned database</span></li>
 </ul>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l8 level1 lfo11;tab-stops:list .5in'>Execute: <code><span
     style='font-size:10.0pt'>startup</span></code><code><span
     style='mso-ansi-font-size:12.0pt;mso-bidi-font-size:12.0pt;font-family:
     "Times New Roman"'><o:p></o:p></span></code></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l8 level1 lfo11;tab-stops:list .5in'>Point your browser to http://localhost:8080/sample-companyweb/</li>
</ul>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.5in'>Alternatively, you can deploy the
sample to your own Tomcat installation by following the instructions below.<span
style='mso-spacerun:yes'>  </span>These instructions assume that you have
downloaded the <st1:State><st1:place>Tuscany</st1:place></st1:State> source and
run our maven build. <span style='mso-spacerun:yes'> </span><a
href="https://svn.apache.org/repos/asf/incubator/tuscany/java/BUILDING.txt">https://svn.apache.org/repos/asf/incubator/tuscany/java/BUILDING.txt</a></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<h1>Set Up</h1>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='mso-list:l5 level1 lfo2;tab-stops:list .5in'>Download
     and install the most recent stable version of Tomcat 5.5.<span
     style='mso-spacerun:yes'>  </span>You can find it here: <a
     href="http://tomcat.apache.org/download-55.cgi">http://tomcat.apache.org/download-55.cgi</a></li>
 <li class=MsoNormal style='mso-list:l5 level1 lfo2;tab-stops:list .5in'>Download
     the most recent official release of <st1:City><st1:place>Derby</st1:place></st1:City>
     from here: <a href="http://db.apache.org/derby/index.html">http://db.apache.org/derby/index.html</a>.<span
     style='mso-spacerun:yes'>  </span>The only file you’ll need from this
     download is <span class=SpellE>derby.jar</span></li>
 <li class=MsoNormal style='mso-list:l5 level1 lfo2;tab-stops:list .5in'>Stop
     Tomcat</li>
 <li class=MsoNormal style='mso-list:l5 level1 lfo2;tab-stops:list .5in'>Move
     the following files (details in appendix) to {<span class=SpellE>Tomcat_Home</span>}/common/lib:</li>
 <ol style='margin-top:0in' start=1 type=a>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'><span
      class=SpellE>tuscany-das-rdb-xxx.jar</span></li>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'><span
      class=SpellE>sdo-api-xxx.jar</span></li>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'><span
      class=SpellE>tuscany-sdo-impl-xxx.jar</span></li>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'><span
      class=SpellE>xsd</span>{latest version}.jar</li>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'><span
      class=SpellE>ecore</span>-{latest version}.jar</li>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'><span
      class=SpellE>ecore</span>-change-{latest version}.jar</li>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'><span
      class=SpellE>ecore-xmi</span>-{latest version}.jar</li>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'>common-{latest
      version}.jar</li>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'><span
      class=SpellE>derby.jar</span></li>
 </ol>
 <li class=MsoNormal style='mso-list:l5 level1 lfo2;tab-stops:list .5in'>Add
     the following files (details in appendix) to {<span class=SpellE>Tomcat_Home</span>}/<span
     class=SpellE>webapps</span></li>
 <ol style='margin-top:0in' start=1 type=a>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'>sample-<span
      class=SpellE>companyweb-xxx.war</span></li>
 </ol>
 <li class=MsoNormal style='mso-list:l5 level1 lfo2;tab-stops:list .5in'>Install
     the canned <st1:City><st1:place>Derby</st1:place></st1:City> database to
     Tomcat: </li>
 <ol style='margin-top:0in' start=1 type=a>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'>Create
      {<span class=SpellE>Tomcat_Home</span>}/Databases</li>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'>Copy
      the <span class=SpellE>dastest</span> folder (and all its contents) from {build
      directory root}/java/samples/<span class=SpellE>das/companyweb</span> to
      {<span class=SpellE>Tomcat_Home</span>}/Databases.<span
      style='mso-spacerun:yes'>   </span></li>
 </ol>
 <li class=MsoNormal style='mso-list:l5 level1 lfo2;tab-stops:list .5in'>Define
     a DataSource by adding a <span class=SpellE>datasource</span> definition
     to {<span class=SpellE><span class=codefrag>Tomcat_Home</span></span><span
     class=codefrag>}/conf/<span class=SpellE>server.xml</span></span>.</li>
 <ol style='margin-top:0in' start=1 type=a>
  <li class=MsoNormal style='mso-list:l5 level2 lfo2;tab-stops:list 1.0in'>Find
      the end-of-section marker <span class=codefrag>&lt;/<span class=SpellE>GlobalNamingResources</span>&gt;</span>
      and add the following lines just above it: </li>
 </ol>
</ol>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<pre><span style='mso-spacerun:yes'>        </span><span class=GramE><span
style='font-size:9.0pt'>&lt;!--</span></span><span style='font-size:9.0pt'> Global <span
class=SpellE>Datasource</span> for </span><st1:City><st1:place><span
  style='font-size:9.0pt'>Derby</span></st1:place></st1:City><span
style='font-size:9.0pt'> <span class=SpellE>dastest</span> database --&gt;<o:p></o:p></span></pre><pre><span
style='font-size:9.0pt'><span style='mso-spacerun:yes'>         </span>&lt;Resource name=&quot;<span
class=SpellE>jdbc/dastest</span>&quot;<o:p></o:p></span></pre><pre><span
style='font-size:9.0pt'><span style='mso-spacerun:yes'>              </span><span
class=GramE>type</span>=&quot;<span class=SpellE>javax.sql.DataSource</span>&quot;<span style='mso-spacerun:yes'>  </span>auth=&quot;Container&quot;<o:p></o:p></span></pre><pre><span
style='font-size:9.0pt'><span style='mso-spacerun:yes'>   </span><span style='mso-spacerun:yes'>           </span><span
class=GramE>description</span>=&quot;</span><st1:City><st1:place><span
  style='font-size:9.0pt'>Derby</span></st1:place></st1:City><span
style='font-size:9.0pt'> database for DAS Company sample&quot;<o:p></o:p></span></pre><pre><span
style='font-size:9.0pt'><span style='mso-spacerun:yes'>              </span><span
class=SpellE><span class=GramE>maxActive</span></span>=&quot;100&quot; <span
class=SpellE>maxIdle</span>=&quot;30&quot; <span class=SpellE>maxWait</span>=&quot;10000&quot;<o:p></o:p></span></pre><pre><span
style='font-size:9.0pt'><span style='mso-spacerun:yes'>              </span>username=&quot;&quot; password=&quot;&quot; <o:p></o:p></span></pre><pre><span
style='font-size:9.0pt'><span style='mso-spacerun:yes'>              </span><span
class=SpellE><span class=GramE>driverClassName</span></span>=&quot;<span
class=SpellE>org.apache.derby.jdbc.EmbeddedDriver</span>&quot;<o:p></o:p></span></pre><pre><span
style='font-size:9.0pt'><span style='mso-spacerun:yes'>              </span><span
class=SpellE><span class=GramE>url</span></span>=&quot;<span class=SpellE>jdbc:derby:Databases/dastest</span>&quot;/&gt;<o:p></o:p></span></pre>

<p class=MsoNormal style='margin-left:.5in'><span
style='mso-spacerun:yes'> </span>NOTE: If you are NOT starting Tomcat as a
service then you will need to provide the absolute path in the above <span
class=SpellE><span class=GramE>url</span></span>.<span
style='mso-spacerun:yes'>  </span>Fore example:</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<pre><span style='mso-spacerun:yes'>         </span><span class=SpellE>url</span>=&quot;jdbc:derby:c:\apache-tomcat-5.5.17\Databases/dastest&quot;/&gt;<span
style='font-size:9.0pt'><o:p></o:p></span></pre>

<p class=MsoNormal style='margin-left:.5in'><span
style='mso-spacerun:yes'> </span></p>

<ol style='margin-top:0in' start=8 type=1>
 <li class=MsoNormal style='mso-list:l5 level1 lfo2;tab-stops:list .5in'>Start
     tomcat and either:</li>
</ol>

<p class=MsoNormal style='margin-left:1.0in'><span class=GramE>go</span> to the
manager console <a href="http://localhost:8080/manager/html">http://localhost:8080/manager/html</a>
and select the application named “<span style='font-size:10.0pt'>Tuscany DAS
sample Company WEB”</span><o:p></o:p></p>

<p class=MsoNormal style='margin-left:.5in'><span class=GramE>or</span>:</p>

<p class=MsoNormal style='margin-left:1.0in'><span class=GramE>point</span>
your browser to :</p>

<p class=MsoNormal style='margin-left:1.5in'><a
href="http://localhost:8080/sample-companyweb-%7bversion%20name%7d/">http://localhost:8080/sample-companyweb-{version
name}/</a></p>

<p class=MsoNormal style='margin-left:1.0in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:1.0in'>NOTE: for the M1 version of <st1:State><st1:place>Tuscany</st1:place></st1:State>
sample the <span class=SpellE><span class=GramE>url</span></span> is:</p>

<p class=MsoNormal style='margin-left:1.5in'>http://localhost:8080/sample-companyweb-incubating-M1/<o:p></o:p></p>

<p class=MsoNormal><sub><o:p>&nbsp;</o:p></sub></p>

<h1>Sample Architecture</h1>

<p class=MsoNormal>This is a simple, single-page, web application.<span
style='mso-spacerun:yes'>  </span>The main components of this application are:</p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l2 level1 lfo3;tab-stops:list .5in'>The
     RDB Data Access Service (DAS)</li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo3;tab-stops:list .5in'>SDO</li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo3;tab-stops:list .5in'><span
     class=SpellE>CompanyClient.java</span></li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo3;tab-stops:list .5in'><span
     class=SpellE>Company.jsp</span></li>
 <li class=MsoNormal style='mso-list:l2 level1 lfo3;tab-stops:list .5in'>The
     canned <st1:City><st1:place>Derby</st1:place></st1:City> database</li>
</ul>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The <span class=SpellE><b style='mso-bidi-font-weight:normal'>CompanyClient</b></span>
uses the <b style='mso-bidi-font-weight:normal'>DAS</b> directly and provides
high-level services to the <span class=SpellE>jsp</span> such as:</p>

<p class=MsoNormal style='margin-left:.5in'><span class=GramE>public</span>
final List <span class=SpellE>getCompanies</span>()</p>

<p class=MsoNormal>This is a good place to look for how you might use the DAS
in your own application.</p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The <span class=SpellE><b style='mso-bidi-font-weight:normal'>Company.jsp</b></span>
responds to client interaction by invoking services of the <span class=SpellE>CompanyClient</span>.<span
style='mso-spacerun:yes'>  </span>It receives data from the <span class=SpellE>CompanyClient</span>
as SDO data graphs and manipulates SDOs directly to display data.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The canned <st1:City><st1:place><b style='mso-bidi-font-weight:
  normal'>Derby</b></st1:place></st1:City><b style='mso-bidi-font-weight:normal'>
database</b> comes preloaded with Companies and related Departments.<span
style='mso-spacerun:yes'>  </span>The <st1:City><st1:place>Derby</st1:place></st1:City>
database instance is a simple file folder.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The <b style='mso-bidi-font-weight:normal'>DAS</b> accepts
directives (commands) from the <span class=SpellE><b style='mso-bidi-font-weight:
normal'>CompanyClient</b></span><b style='mso-bidi-font-weight:normal'> </b>and
reads and writes to the derby database instance appropriately.<b
style='mso-bidi-font-weight:normal'> <o:p></o:p></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<h1>Appendix</h1>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The following specifies the location of all dependency jars needed
to run this sample.<span style='mso-spacerun:yes'>  </span>These jars are
available <b style='mso-bidi-font-weight:normal'>only</b> after you have
successfully downloaded and built Tuscany/java.<span style='mso-spacerun:yes'> 
</span>Instructions for building can be found here: </p>

<p class=MsoNormal style='margin-left:.5in'><a
href="https://svn.apache.org/repos/asf/incubator/tuscany/java/BUILDING.txt">https://svn.apache.org/repos/asf/incubator/tuscany/java/BUILDING.txt</a></p>

<p class=MsoNormal style='margin-left:.5in'><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><span class=GramE>Dependency jar</span> locations:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt'>For
Step #4<o:p></o:p></span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l7 level1 lfo4;tab-stops:list .5in'><span
     class=SpellE><span style='font-size:10.0pt'>tuscany-das-rdb-xxx.jar</span></span><span
     style='font-size:10.0pt'> – {build directory root}/java/<span
     class=SpellE>das/rdb/target</span><o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l7 level1 lfo4;tab-stops:list .5in'><span
     class=SpellE><span style='font-size:10.0pt'>sdo-api-xxx.jar</span></span><span
     style='font-size:10.0pt'> – {build directory root}/java/spec/<span
     class=SpellE>sdo</span>/target<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l7 level1 lfo4;tab-stops:list .5in'><span
     class=SpellE><span style='font-size:10.0pt'>tuscany-sdo-impl-xxx.jar</span></span><span
     style='font-size:10.0pt'> – {build directory root}//java/<span
     class=SpellE>sdo/impl/target</span><o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l7 level1 lfo4;tab-stops:list .5in'><span
     class=SpellE><span style='font-size:10.0pt'>xsd</span></span><span
     style='font-size:10.0pt'>{latest version}.jar –
     {user}/.m2/repository/org/eclipse/xsd<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l7 level1 lfo4;tab-stops:list .5in'><span
     class=SpellE><span style='font-size:10.0pt'>ecore</span></span><span
     style='font-size:10.0pt'>-{latest version}.jar –
     {user}/.m2/repository/org/eclipse/emf/ecore<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l7 level1 lfo4;tab-stops:list .5in'><span
     class=SpellE><span style='font-size:10.0pt'>ecore</span></span><span
     style='font-size:10.0pt'>-change-{latest version}.jar –
     {user}/.m2/repository/org/eclipse/emf/ecore-change<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l7 level1 lfo4;tab-stops:list .5in'><span
     class=SpellE><span style='font-size:10.0pt'>ecore-xmi</span></span><span
     style='font-size:10.0pt'>-{latest version}.jar <span
     style='mso-spacerun:yes'> </span>–
     {user}/.m2/repository/org/eclipse/emf/ecore-xmi<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l7 level1 lfo4;tab-stops:list .5in'><span
     style='font-size:10.0pt'>common-{latest version}.jar <span
     style='mso-spacerun:yes'> </span>– {user}/.m2/repository/org/eclipse/emf/common<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l7 level1 lfo4;tab-stops:list .5in'><span
     class=SpellE><span style='font-size:10.0pt'>derby.jar</span></span><span
     style='font-size:10.0pt'> – Extract from the archive file you downloaded
     in step #2<o:p></o:p></span></li>
</ul>

<p class=MsoNormal><span style='font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal>Application artifact locations:</p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:.25in'><span style='font-size:10.0pt'>For
Step #5<o:p></o:p></span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l10 level1 lfo10;tab-stops:list .5in'><span
     style='font-size:10.0pt'>sample-<span class=SpellE>companyweb-xxx.war</span>
     - {build directory root}/java/samples/<span class=SpellE>das/companyweb/target</span><o:p></o:p></span></li>
</ul>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Conventions:</p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l0 level1 lfo5;tab-stops:list .5in'><span
     style='font-size:10.0pt'>{<span class=GramE>user</span>} refers the
     directory where Maven2 is installed on your machine.<span
     style='mso-spacerun:yes'>  </span>On my machine, “{user}” is “C:\Documents
     and Settings\Administrator”<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l0 level1 lfo5;tab-stops:list .5in'><span
     style='font-size:10.0pt'>{<span class=SpellE>Tomcat_Home</span>} refers to
     the directory that Tomcat is installed on your machine.<span
     style='mso-spacerun:yes'>  </span>On my machine, this is “C:\Program
     Files\Apache Software Foundation\Tomcat 5.5”<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l0 level1 lfo5;tab-stops:list .5in'><span
     style='font-size:10.0pt'>{<span class=GramE>latest</span> version} means
     the tag associated with the latest version available in the maven2
     repository.<span style='mso-spacerun:yes'>  </span>For example the version
     of <span class=SpellE>ecore</span>-{latest version}.jar that I used for
     testing this sample is “ecore-2.2.0-RC4.jar”<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l0 level1 lfo5;tab-stops:list .5in'><span
     style='font-size:10.0pt'>{build directory root} refers to the target
     directory for the <span class=SpellE>tuscany</span>/java source you are
     building from<o:p></o:p></span></li>
</ul>

</div>

</body>

</html>
